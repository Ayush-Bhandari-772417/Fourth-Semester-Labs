LXI H, 2050H
LXI D, 3050H
MVI A, 30

BEG: PUSH PSW
MOV A, M
MVI B, 08H
MVI C, 00H

START: RAL
JNC COUNTER
INR C
COUNTER: DCR B
JNZ START

MOV A, C
ANI 01H
CNZ ODD

MOV A, M
ORI 20H
ANI 0FBH
JMP COMMON

ODD: MOV A,C
COMMON: STAX D

POP PSW
INX D
INX H
DCR A
JNZ BEG

HLT