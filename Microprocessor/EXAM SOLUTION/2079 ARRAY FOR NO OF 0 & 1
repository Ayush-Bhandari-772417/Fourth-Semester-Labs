LXI H, 9000H
MVI A, 0FH
MVI D, 20H
MVI E, 40H

BEG: PUSH PSW
MOV A, M
MVI B, 08H
MVI C, 00H

START: RAL
JNC COUNTER
INR C
COUNTER: DCR B
JNZ START

PUSH H
MOV L, D
MOV M, C
MVI A, 08
SUB M
MOV L, E
MOV M, A
POP H

POP PSW
INR D
INR E
INR L
DCR A
JNZ BEG

HLT